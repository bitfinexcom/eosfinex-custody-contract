# Eosfinex Custody Smart Contract
This is the eosfinex custody contract for production deployment on the EOS mainnet.  The contract test cases and audit has been done by **EOS Argentina**.  Many thanks to them for their hard work and dedication to the EOS community.

## Build & deploy
After cloning this repository, running the following commands would build and deploy the contract to the account eosfinexeos1.  The contract can be built with eosio.cdt version 1.7.0-1.  Please **note** that you may need to deploy the handmade eosfinex.abi included in this repo and not the version generated by eosio-cpp.

```
cd eosfinex-custody-contract
make
cleos -u https://api.eosfinex.com set contract eosfinexeos1 . eosfinex.wasm eosfinex.abi
```

## Build contracts for tesing
```
cd eosfinex-custody-contract
rm -f eosfinex.wasm eosfinex.abi
USE_CHAIN_ID_FOR_TESTS=yes make
```

## Build & run tests
```
cd eosfinex-custody-contract
mkdir -p tests/build
cd tests/build
cmake -DCONTRACTS_BUILD_FOLDER=/path/to/eosio.contracts/build ..
make
./unit_test
```

## License
MIT
